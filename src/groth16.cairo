use bn::traits::FieldOps;
use bn::curve::groups::ECOperations;
use bn::g::{Affine, AffineG1Impl, AffineG2Impl, g1, g2, AffineG1, AffineG2,};
use bn::fields::{Fq, Fq2, print::Fq12Display};
use bn::fields::{fq12, Fq12, Fq12Utils, Fq12Exponentiation};
use bn::curve::pairing;
use pairing::optimal_ate::{single_ate_pairing, ate_miller_loop};
use pairing::optimal_ate_impls::{SingleMillerPrecompute, SingleMillerSteps};

#[test]
#[available_gas(20000000000)]
fn simple_test() {
    let A_G1 = g1(
        19092006581455788758709004813424108450475230671546198110182704126760952021248,
        18428185916649502171614192229986655674799279684527591370328182794110727996633
    );
    let neg_A_G1 = g1(A_G1.x.c0, A_G1.y.neg().c0);
    let B_G2 = g2(
        1110332524507442648511549408896049077062269578877062826069065960274388112308,
        15815785354885964222010325771656100864105333417560377595802485750386873282739,
        20784382045877636010618629654573620888044404319093695781168988411617616204166,
        5234804291052944426941184034424257962428641145809086397589880058685491457835
    );
    let C_G1 = g1(
        21755526246297599392782387322262927251662305599666002632514868138515690603377,
        19883332083442129478217826420060112230198011363938980948134718366700920887106
    );
    let rhs = ate_miller_loop(C_G1, AffineG2Impl::one());
    let nlhs = ate_miller_loop(neg_A_G1, B_G2);
    let pairing_product = (nlhs * rhs).final_exponentiation();
    assert(pairing_product == fq12(1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), 'lhs == rhs failed')
}

const alphax: u256 = 1;
const alphay: u256 = 2;
const betax1: u256 = 11559732032986387107991004021392285783925812861821192530917403151452391805634;
const betax2: u256 = 10857046999023057135944570762232829481370756359578518086990519993285655852781;
const betay1: u256 = 4082367875863433681332203403145435568316851327593401208105741076214120093531;
const betay2: u256 = 8495653923123431417604973247489272438418190587263600148770280649306958101930;
const gammax1: u256 = 11559732032986387107991004021392285783925812861821192530917403151452391805634;
const gammax2: u256 = 10857046999023057135944570762232829481370756359578518086990519993285655852781;
const gammay1: u256 = 4082367875863433681332203403145435568316851327593401208105741076214120093531;
const gammay2: u256 = 8495653923123431417604973247489272438418190587263600148770280649306958101930;
const deltax1: u256 = 11559732032986387107991004021392285783925812861821192530917403151452391805634;
const deltax2: u256 = 10857046999023057135944570762232829481370756359578518086990519993285655852781;
const deltay1: u256 = 4082367875863433681332203403145435568316851327593401208105741076214120093531;
const deltay2: u256 = 8495653923123431417604973247489272438418190587263600148770280649306958101930;
const IC0x: u256 = 2205402414642132234027040389597437337287907829277335903657916755127147634748;
const IC0y: u256 = 6212158757775420140728040378888507003773979768231226141083601518795109727638;
const IC1x: u256 = 1;
const IC1y: u256 = 2;
const IC2x: u256 = 0;
const IC2y: u256 = 1;

